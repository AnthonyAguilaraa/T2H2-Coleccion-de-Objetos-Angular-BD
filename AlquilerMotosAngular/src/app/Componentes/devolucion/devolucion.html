<div class="table-container">
  <div class="header">ğŸ“‹ Devoluciones Pendientes</div>

  <table>
    <thead>
      <tr>
        <th>Cliente</th> <th>VehÃ­culo</th>
        <th>Fecha Pactada</th>
        <th>Estado</th>
        <th>AcciÃ³n</th>
      </tr>
    </thead>

    <tbody>
      <ng-container *ngFor="let a of alquileres$ | async">
        <tr *ngIf="a.estado === 'ACTIVO'">
          
          <td>{{ a.clienteId?.nombre || 'Cliente Desconocido' }}</td>
          
          <td style="font-weight: bold; color: #2c3e50;">
            {{ a.vehiculoCodigo }}
          </td>
          
          <td>{{ a.fechaTentativa | date:'dd/MM/yyyy' }}</td>
          
          <td>
            <span *ngIf="esTardio(a.fechaTentativa)" class="tag tag-mora">
              âš ï¸ Con Retraso
            </span>
            <span *ngIf="!esTardio(a.fechaTentativa)" class="tag tag-tiempo">
              âœ… A tiempo
            </span>
          </td>

          <td>
            <button class="btn-return" (click)="devolver(a._id)">
              ğŸ“¥ Recibir
            </button>
          </td>
        </tr>
      </ng-container>
    </tbody>
  </table>

  <div class="empty-state" *ngIf="(alquileres$ | async)?.length === 0">
    <p>ğŸƒ No hay vehÃ­culos pendientes de devoluciÃ³n.</p>
  </div>
</div>