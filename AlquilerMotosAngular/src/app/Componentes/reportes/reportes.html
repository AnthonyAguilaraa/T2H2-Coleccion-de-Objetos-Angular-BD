<div class="dashboard-header">
  <h2>ğŸ“Š Dashboard Eco-Move</h2>
  <button class="btn-refresh" (click)="actualizar()">
    ğŸ”„ {{ cargando ? 'Cargando...' : 'Actualizar Datos' }}
  </button>
</div>

<div class="dashboard-grid">

  <div class="stats-card highlight">
    <div class="card-icon">ğŸ’°</div>
    <div class="stat-content">
      <div class="stat-label">INGRESOS TOTALES</div>
      <div class="stat-value">{{ totalDinero | currency }}</div>
      <small>Incluye alquileres y multas</small>
    </div>
  </div>

  <div class="stats-card">
    <div class="card-header-sm">ğŸ† Clientes Frecuentes</div>
    <ul class="lista-simple">
      <li *ngFor="let c of recurrentes">
        <span class="nombre">{{ c.nombre }}</span>
        <span class="badge-vip">VIP</span>
      </li>
      <li *ngIf="recurrentes.length === 0" class="empty">No hay datos</li>
    </ul>
  </div>

  <div class="stats-card">
    <div class="card-header-sm">ğŸ”¥ Top VehÃ­culos</div>
    <ul class="lista-rank">
      <li *ngFor="let v of populares; let i = index">
        <span class="rank">#{{ i + 1 }}</span>
        <span class="modelo">{{ v.vehiculoInfo.nombre }}</span>
        <span class="count">{{ v.count }} alq.</span>
      </li>
      <li *ngIf="populares.length === 0" class="empty">No hay datos</li>
    </ul>
  </div>

  <div class="stats-card danger">
    <div class="card-header-sm">âš ï¸ Multas Recientes</div>
    <table class="mini-table">
      <tr *ngFor="let m of multas">
        <td>{{ m.vehiculoCodigo }}</td>
        <td class="text-danger">{{ m.multa | currency }}</td>
      </tr>
      <tr *ngIf="multas.length === 0">
        <td colspan="2" class="empty">Â¡Sin infracciones!</td>
      </tr>
    </table>
  </div>

</div>